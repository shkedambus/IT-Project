# Сценарии


## Было

### [ Сценарий 5 - Сбор оценки удовлетворенности при закрытии тикета в Jira ]

1. Бот отправляет личное сообщение пользователю, закрывшему тикет, спрашивая его оценку удовлетворенности работой
2. Пользователь отправляет в ответ сообщение, содержащее цифру от 1 до 5
3. Бот реагирует на сообщение
4. Бот считывает сообщение
5. Бот достает оценку
6. Бот обращается к базе данных
7. Бот добавляет оценку в базу данных

## Стало

### [ Сценарий 5 - Сбор оценки удовлетворенности при закрытии тикета в Jira ]

1. Бот отправляет личное сообщение пользователю, создавшему тикет, спрашивая его оценку удовлетворенности работой
2. Пользователь отправляет в ответ сообщение, содержащее цифру от 1 до 5
3. Бот реагирует на сообщение
4. Бот считывает сообщение
5. Бот достает оценку
6. Бот обращается к базе данных
7. Бот добавляет оценку в базу данных

## Было

### [ Сценарий 7 -  Получение уведомлений об обращениях, требующих обновления ]

1. Выполняется сценарий 1
2. Проходит определенное количество времени
3. Бот формирует запрос через Jira REST API
4. Бот получает ответ
5. Бот обрабатывает ответ
6. Бот достает все тикеты, которые требуют обновления (с помощью проверки поля "updated")
7. Бот достает имена пользователей, на которых записаны эти тикеты
8. Пользователи, на которых были записаны эти тикеты, получают личные сообщения о том, что их тикеты требуют обновления

## Стало

### [ Сценарий 7 -  Получение уведомлений об обращениях, требующих обновления ]

1. Пользователь вводит команду бота
2. Бот формирует запрос через Jira REST API
3. Бот получает ответ
4. Бот обрабатывает ответ
5. Бот достает все тикеты
6. Бот проверяет поле "updated" (прошло ли определенное количество времени с момента последнего изменения тикета) и отбирает нужные тикеты
7. Пользователь получает эти тикеты в личном сообщении от бота
