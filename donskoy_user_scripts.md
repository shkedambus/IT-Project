# Донской Дмитрий - "Slack Бот - Miha"
# Пользовательские сценарии

### Группа: 10 - И - 1
### Электронная почта: dvdonskoy_1@edu.hse.ru
### VK: www.vk.com/dddovolen



### [ Сценарий 1 - Автоматическое создание тикета в Jira из сообщения в Slack ]

1. Пользователь обнаруживает проблему
2. Пользователь отправляет сообщение в канал поддержки в Slack, которое содержит в себе описание проблемы
3. Бот реагирует на сообщение
4. Бот считывает сообщение
5. Бот формирует запрос через Jira REST API
6. Бот создает тикет в Jira для данной проблемы
7. Бот отправляет тикет из Jira в канал поддержки в Slack в виде сообщения

### [ Сценарий 2 - Изменение статусов тикетов в Jira в соответствии с реакциями на сообщения в Slack командой, которая занимается обработкой большого потока внутренних обращений ]

1. Выполняется сценарий 1
2. Пользователь нажимает на определенную реакцию под сообщение бота в соответствии с нужным статусом тикета
3. Бот реагирует на реакцию на сообщение
4. Бот проверяет, была ли реакция нажата членом команды по обработке обращений
5. Если нет, то ничего не происходит
6. Если да, то бот формирует запрос через Jira REST API
7. Бот меняет статус для данного тикета
8. Если новый статус тикета последний (т.е. тикет теперь закрыт), запускается сценарий 5 
9. Запускается сценарий 3

### [ Сценарий 3 - Получение сообщения об изменении созданных тикетов ]

1. Бот формирует запрос через Jira REST API
2. Бот получает ответ
3. Бот обрабатывает ответ
4. Бот достает имя пользователя, создавшего тикет
5. Бот достает новый статус тикета
6. Бот достает имя пользователя, изменившего статус тикета
7. Пользователь, который создал тикет, получает личное сообщение о том, что статус тикета был изменен [пользователем] на [статус]

### [ Сценарий 4 - Вывод непрочитанных обращений в Slack ]

1. Пользователь вводит команду бота ему в личные сообщения
2. Бот реагирует на сообщение
3. Бот формирует запрос через Jira REST API
4. Бот получает ответ
5. Бот обрабатывает ответ
6. Бот достает все тикеты, которые не были взяты в работу
7. Пользователь получает эти тикеты в виде личных сообщений

### [ Сценарий 5 - Сбор оценки удовлетворенности при закрытии тикета в Jira ]

1. Бот отправляет личное сообщение пользователю, закрывшему тикет, спрашивая его оценку удовлетворенности работой
2. Пользователь отправляет в ответ сообщение, содержащее цифру от 1 до 5
3. Бот реагирует на сообщение
4. Бот считывает сообщение
5. Бот достает оценку
6. Бот обращается к базе данных
7. Бот добавляет оценку в базу данных

### [ Сценарий 6 - Вывод статистики по обработанным за день обращениям в Slack ]

1. Пользователь вводит команду бота
2. Бот реагирует на сообщение
3. Бот формирует запрос через Jira REST API
4. Бот получает все тикеты
5. Бот достает данные для статистики
6. Бот обращается к базе данных
7. Бот достает данные из базы данных
8. Бот рассчитывает статистику
9. Пользователь получает статистику по обработанным за день обращениям в виде сообщения

### [ Сценарий 7 -  Получение уведомлений об обращениях, требующих обновления ]

1. Выполняется сценарий 1
2. Проходит определенное количество времени
3. Бот формирует запрос через Jira REST API
4. Бот получает ответ
5. Бот обрабатывает ответ
6. Бот достает все тикеты, которые требуют обновления (с помощью проверки поля "updated")
7. Бот достает имена пользователей, на которых записаны эти тикеты
8. Пользователи, на которых были записаны эти тикеты, получают личные сообщения о том, что их тикеты требуют обновления



